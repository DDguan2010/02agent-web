# 02agent Web å‰ç«¯åº”ç”¨

## é¡¹ç›®æ¦‚è¿°

02agent Web æ˜¯ä¸€ä¸ªåŸºäºReactæ¡†æ¶å¼€å‘çš„ç°ä»£åŒ–å‰ç«¯åº”ç”¨ï¼Œæä¾›å®Œæ•´çš„AI Agentäº¤äº’ç•Œé¢ã€‚è¯¥åº”ç”¨æ”¯æŒåŒè¯­åˆ‡æ¢ã€å®æ—¶æµå¼èŠå¤©ã€MCPæœåŠ¡å™¨ç®¡ç†ã€ä¼šè¯ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. **æ™ºèƒ½APIæ£€æµ‹ä¸è¿æ¥**
- è‡ªåŠ¨æ£€æµ‹æœ¬åœ°APIæœåŠ¡å™¨çŠ¶æ€ï¼ˆé€šè¿‡/healthç«¯ç‚¹ï¼‰
- å‹å¥½çš„è¿æ¥çŠ¶æ€æç¤ºå’Œé‡è¯•æœºåˆ¶
- å®æ—¶è¿æ¥çŠ¶æ€ç›‘æ§

### 2. **åŒè¯­ç•Œé¢æ”¯æŒ**
- ä¸­æ–‡/è‹±æ–‡æ— ç¼åˆ‡æ¢
- å®Œæ•´çš„å›½é™…åŒ–ç¿»è¯‘ç³»ç»Ÿ
- è¯­è¨€åå¥½æœ¬åœ°å­˜å‚¨

### 3. **ç°ä»£åŒ–UIè®¾è®¡**
- Material Design 3è®¾è®¡è§„èŒƒ
- ä¸»é¢˜è‰² #00948A è´¯ç©¿æ•´ä¸ªåº”ç”¨
- å“åº”å¼å¸ƒå±€ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- æµç•…çš„åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ

### 4. **ä¸‰æ å¼å¸ƒå±€**
- **å·¦ä¾§æ **ï¼šä¼šè¯ç®¡ç†ï¼ˆåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€å¯¼å…¥/å¯¼å‡ºï¼‰
- **ä¸­é—´æ **ï¼šèŠå¤©ç•Œé¢ï¼ˆæ”¯æŒæµå¼è¾“å‡ºï¼‰
- **å³ä¾§æ **ï¼šMCPæœåŠ¡å™¨ç®¡ç†ï¼ˆæ·»åŠ ã€è¿æ¥ã€çŠ¶æ€ç›‘æ§ï¼‰

### 5. **é«˜çº§èŠå¤©åŠŸèƒ½**
- çœŸå®çš„æµå¼è¾“å‡ºï¼ˆServer-Sent Eventsï¼‰
- å®Œæ•´çš„ä¸Šä¸‹æ–‡å¯¹è¯ç®¡ç†
- æ¶ˆæ¯æ—¶é—´æˆ³æ˜¾ç¤º
- å·¥å…·è°ƒç”¨çŠ¶æ€æç¤º

### 6. **MCPæœåŠ¡å™¨ç®¡ç†**
- åŠ¨æ€æ·»åŠ /åˆ é™¤MCPæœåŠ¡å™¨
- å®æ—¶è¿æ¥çŠ¶æ€ç›‘æ§
- æ‰¹é‡å¯åŠ¨/åœæ­¢åŠŸèƒ½
- JSONé…ç½®éªŒè¯

### 7. **ä¼šè¯æ•°æ®ç®¡ç†**
- å®Œæ•´çš„CRUDæ“ä½œ
- JSONæ ¼å¼å¯¼å…¥/å¯¼å‡º
- ä¼šè¯åç§°ç¼–è¾‘
- æ•°æ®æŒä¹…åŒ–

### 8. **AIé…ç½®ç®¡ç†**
- APIå¯†é’¥å®‰å…¨å­˜å‚¨
- Base URLè‡ªå®šä¹‰
- æ¨¡å‹é€‰æ‹©é…ç½®
- é…ç½®éªŒè¯å’Œæ›´æ–°

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **React 18.2.0**: ç°ä»£åŒ–UIæ¡†æ¶
- **React Router 6.8.0**: å®¢æˆ·ç«¯è·¯ç”±
- **Material Design 3**: è®¾è®¡è¯­è¨€ç³»ç»Ÿ
- **Context API**: çŠ¶æ€ç®¡ç†
- **CSS3 + Flexbox**: å“åº”å¼å¸ƒå±€

### æ ¸å¿ƒä¾èµ–
```json
{
  "react": "^18.2.0",
  "react-dom": "^18.2.0",
  "react-router-dom": "^6.8.0",
  "@material/web": "^1.0.0"
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
frontend/02agent-web/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html          # ä¸»HTMLæ–‡ä»¶
â”‚   â”œâ”€â”€ ico.png            # åº”ç”¨å›¾æ ‡
â”‚   â””â”€â”€ favicon.ico        # ç½‘ç«™å›¾æ ‡
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/        # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Navigation.js       # ä¸»å¯¼èˆªæ 
â”‚   â”‚   â”œâ”€â”€ ApiStatusCheck.js   # APIçŠ¶æ€æ£€æµ‹
â”‚   â”‚   â”œâ”€â”€ SessionList.js      # ä¼šè¯åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ ChatArea.js         # èŠå¤©åŒºåŸŸ
â”‚   â”‚   â””â”€â”€ MCPSidebar.js       # MCPç®¡ç†é¢æ¿
â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ChatPage.js        # èŠå¤©ä¸»é¡µé¢
â”‚   â”‚   â””â”€â”€ SettingsPage.js    # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ contexts/         # React Context
â”‚   â”‚   â”œâ”€â”€ LanguageContext.js # è¯­è¨€å›½é™…åŒ–
â”‚   â”‚   â””â”€â”€ APIContext.js      # APIçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ App.js            # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ App.css           # åº”ç”¨æ ·å¼
â”‚   â”œâ”€â”€ index.js          # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ index.css         # å…¨å±€æ ·å¼
â”œâ”€â”€ package.json          # é¡¹ç›®é…ç½®
â””â”€â”€ README.md            # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js â‰¥ 16.0.0
- npm æˆ– yarn
- æœ¬åœ°APIæœåŠ¡å™¨ï¼ˆ02agentåç«¯ï¼Œç«¯å£3000ï¼‰

### å®‰è£…ä¾èµ–
```bash
cd frontend/02agent-web
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£3001ï¼‰
```bash
# æ–¹æ³•1ï¼šç›´æ¥æŒ‡å®šç«¯å£
PORT=3001 npm start

# æ–¹æ³•2ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡æ–‡ä»¶
echo "PORT=3001" > .env
npm start

# æ–¹æ³•3ï¼šWindowsç³»ç»Ÿ
set PORT=3001 && npm start
```

å‰ç«¯åº”ç”¨å°†åœ¨ http://localhost:3001 å¯åŠ¨

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

## ğŸ“‹ ä½¿ç”¨æŒ‡å—

### 1. é¦–æ¬¡å¯åŠ¨
1. ç¡®ä¿åç«¯APIæœåŠ¡å™¨å·²å¯åŠ¨ï¼ˆ`npm run api`ï¼Œç«¯å£3000ï¼‰
2. æ‰“å¼€å‰ç«¯åº”ç”¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹APIè¿æ¥
3. å¦‚æœAPIæœªå¯åŠ¨ï¼Œä¼šæ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤ºå’Œé‡è¯•æœºåˆ¶

### 2. åŸºæœ¬ä½¿ç”¨æµç¨‹
1. **åˆ›å»ºä¼šè¯**: ç‚¹å‡»"æ–°ä¼šè¯"æŒ‰é’®åˆ›å»ºèŠå¤©ä¼šè¯
2. **é…ç½®AI**: è¿›å…¥è®¾ç½®é¡µé¢é…ç½®APIå¯†é’¥å’Œæ¨¡å‹
3. **æ·»åŠ MCPæœåŠ¡å™¨**: åœ¨å³ä¾§é¢æ¿æ·»åŠ éœ€è¦çš„MCPæœåŠ¡å™¨
4. **å¼€å§‹èŠå¤©**: åœ¨èŠå¤©ç•Œé¢è¾“å…¥æ¶ˆæ¯ï¼Œæ”¯æŒæµå¼å“åº”

### 3. é«˜çº§åŠŸèƒ½
- **ä¼šè¯ç®¡ç†**: æ”¯æŒé‡å‘½åã€åˆ é™¤ã€å¯¼å…¥/å¯¼å‡ºä¼šè¯
- **MCPç®¡ç†**: åŠ¨æ€æ·»åŠ /åˆ é™¤æœåŠ¡å™¨ï¼Œæ‰¹é‡æ“ä½œ
- **åŒè¯­åˆ‡æ¢**: ç‚¹å‡»å³ä¸Šè§’è¯­è¨€æŒ‰é’®åˆ‡æ¢ä¸­è‹±æ–‡
- **æ•°æ®å¯¼å‡º**: ä¸€é”®å¯¼å‡ºæ‰€æœ‰ä¼šè¯æ•°æ®ä¸ºJSON

## ğŸ¨ UIè®¾è®¡è§„èŒƒ

### ä¸»é¢˜è‰²å½©
- **ä¸»è‰²**: #00948A (Teal)
- **è¾…è‰²**: #4A635F (Dark Teal)
- **èƒŒæ™¯**: #FAFDFB (Off-white)
- **è¡¨é¢**: #FFFFFF (White)
- **é”™è¯¯**: #BA1A1A (Red)

### å­—ä½“ç³»ç»Ÿ
- **ä¸»å­—ä½“**: Roboto (è‹±æ–‡)
- **ä¸­æ–‡å­—ä½“**: Noto Sans SC
- **ç­‰å®½å­—ä½“**: ç³»ç»Ÿé»˜è®¤monospace

### é—´è·è§„èŒƒ
- **åŸºç¡€é—´è·**: 8px
- **ç»„ä»¶é—´è·**: 16px
- **é¡µé¢é—´è·**: 24px
- **å¤§é—´è·**: 32px

## ğŸ”§ APIæ¥å£é›†æˆ

### æ ¸å¿ƒAPIç«¯ç‚¹
```javascript
// å¥åº·æ£€æŸ¥
GET /health

// AIé…ç½®
GET /api/ai/config
POST /api/ai/config

// MCPç®¡ç†
GET /api/mcp/config
PUT /api/mcp/servers/:name
DELETE /api/mcp/servers/:name
POST /api/mcp/connect
GET /api/mcp/status

// ä¼šè¯ç®¡ç†
POST /api/chat/sessions
GET /api/chat/sessions
GET /api/chat/sessions/:id
DELETE /api/chat/sessions/:id

// æ¶ˆæ¯å¤„ç†
POST /api/chat/:sessionId/message  // æ”¯æŒæµå¼
POST /api/chat/query               // ç›´æ¥æŸ¥è¯¢

// æ•°æ®å¯¼å…¥å¯¼å‡º
GET /api/chat/sessions/export
POST /api/chat/sessions/import
```

### æµå¼å“åº”å¤„ç†
```javascript
const response = await sendMessage(sessionId, message, true);
const reader = response.body.getReader();
const decoder = new TextDecoder();

while (true) {
  const { done, value } = await reader.read();
  if (done) break;
  
  const chunk = decoder.decode(value);
  const lines = chunk.split('\n');
  
  for (const line of lines) {
    if (line.startsWith('data: ')) {
      const data = JSON.parse(line.slice(6));
      if (data.type === 'chunk') {
        // å¤„ç†æµå¼å†…å®¹
        updateStreamingContent(data.content);
      }
    }
  }
}
```

## ğŸŒ å›½é™…åŒ–æ”¯æŒ

### ç¿»è¯‘ç³»ç»Ÿæ¶æ„
- **è¯­è¨€æ–‡ä»¶**: `src/contexts/LanguageContext.js`
- **ç¿»è¯‘å‡½æ•°**: `t('key')`
- **è¯­è¨€åˆ‡æ¢**: è‡ªåŠ¨ä¿å­˜åˆ°localStorage
- **é»˜è®¤è¯­è¨€**: ä¸­æ–‡ï¼ˆzhï¼‰

### ç¿»è¯‘ç¤ºä¾‹
```javascript
// å®šä¹‰ç¿»è¯‘
const translations = {
  zh: { welcome: 'æ¬¢è¿ä½¿ç”¨' },
  en: { welcome: 'Welcome' }
};

// ä½¿ç”¨ç¿»è¯‘
const { t } = useTranslation();
return <h1>{t('welcome')}</h1>;
```

## ğŸ“± å“åº”å¼è®¾è®¡

### æ–­ç‚¹è®¾ç½®
- **ç§»åŠ¨ç«¯**: < 768px
- **å¹³æ¿ç«¯**: 768px - 1024px
- **æ¡Œé¢ç«¯**: > 1024px

### ç§»åŠ¨ç«¯é€‚é…
- ä¸‰æ å¸ƒå±€å˜ä¸ºå‚ç›´å †å 
- ä¾§è¾¹æ å˜ä¸ºå¯æŠ˜å 
- æŒ‰é’®å’Œè¾“å…¥æ¡†å°ºå¯¸è°ƒæ•´
- å­—ä½“å¤§å°ä¼˜åŒ–

## ğŸ”’ å®‰å…¨è€ƒè™‘

### APIå¯†é’¥å®‰å…¨
- å¯†ç è¾“å…¥æ¡†ç±»å‹
- å‰ç«¯ä¸æ˜¾ç¤ºå®Œæ•´å¯†é’¥
- HTTPSä¼ è¾“ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- æœ¬åœ°å­˜å‚¨åŠ å¯†

### è¾“å…¥éªŒè¯
- JSONæ ¼å¼éªŒè¯
- XSSé˜²æŠ¤
- SQLæ³¨å…¥é˜²æŠ¤ï¼ˆåç«¯ï¼‰
- æ–‡ä»¶ä¸Šä¼ ç±»å‹æ£€æŸ¥

## ğŸ› é”™è¯¯å¤„ç†

### é”™è¯¯ç±»å‹
- **ç½‘ç»œé”™è¯¯**: è‡ªåŠ¨é‡è¯•æœºåˆ¶
- **APIé”™è¯¯**: å‹å¥½æç¤ºä¿¡æ¯
- **æ ¼å¼é”™è¯¯**: å®æ—¶éªŒè¯åé¦ˆ
- **æƒé™é”™è¯¯**: æ¸…æ™°çš„æ“ä½œæŒ‡å¼•

### é”™è¯¯ç¤ºä¾‹
```javascript
try {
  await apiCall();
} catch (error) {
  setError(error.message);
  // æ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯
  showNotification('æ“ä½œå¤±è´¥ï¼š' + error.message, 'error');
}
```

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### ä¼˜åŒ–ç­–ç•¥
- **æ‡’åŠ è½½**: ç»„ä»¶æŒ‰éœ€åŠ è½½
- **è™šæ‹Ÿæ»šåŠ¨**: å¤§é‡æ¶ˆæ¯åˆ—è¡¨ä¼˜åŒ–
- **é˜²æŠ–èŠ‚æµ**: è¾“å…¥å’ŒAPIè°ƒç”¨ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**: ä¼šè¯æ•°æ®æœ¬åœ°ç¼“å­˜

### å†…å­˜ç®¡ç†
- åŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬å™¨
- ç»„ä»¶å¸è½½æ—¶å–æ¶ˆè¯·æ±‚
- é¿å…å†…å­˜æ³„æ¼
- åˆç†ä½¿ç”¨useEffect

## ğŸ“Š æµè§ˆå™¨å…¼å®¹æ€§

### æ”¯æŒæµè§ˆå™¨
- âœ… Chrome 90+
- âœ… Firefox 88+
- âœ… Safari 14+
- âœ… Edge 90+
- âš ï¸ IE 11ï¼ˆæœ‰é™æ”¯æŒï¼‰

### ç‰¹æ€§æ£€æµ‹
```javascript
// æµå¼å“åº”æ”¯æŒæ£€æµ‹
if (typeof ReadableStream === 'undefined') {
  // é™çº§åˆ°éæµå¼å“åº”
  return await sendMessage(sessionId, message, false);
}
```

## ğŸ”§ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- ESLinté…ç½®
- Prettieræ ¼å¼åŒ–
- Gitæäº¤è§„èŒƒ
- ç»„ä»¶å‘½åè§„èŒƒ

### è°ƒè¯•å·¥å…·
- React Developer Tools
- Redux DevToolsï¼ˆå¦‚ä½¿ç”¨ï¼‰
- Networké¢æ¿
- Consoleæ—¥å¿—

### æµ‹è¯•ç­–ç•¥
- å•å…ƒæµ‹è¯•ï¼šJest + React Testing Library
- é›†æˆæµ‹è¯•ï¼šCypress
- ç«¯åˆ°ç«¯æµ‹è¯•ï¼šPlaywright

## ğŸ“ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒ
```bash
npm start          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£3001ï¼‰
npm run build      # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm test           # è¿è¡Œæµ‹è¯•
```

### ç”Ÿäº§éƒ¨ç½²
1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š`npm run build`
2. é…ç½®WebæœåŠ¡å™¨ï¼ˆNginx/Apacheï¼‰
3. è®¾ç½®åå‘ä»£ç†åˆ°APIæœåŠ¡å™¨ï¼ˆç«¯å£3000ï¼‰
4. é…ç½®HTTPSè¯ä¹¦
5. å¯ç”¨Gzipå‹ç¼©

### Dockeréƒ¨ç½²
```dockerfile
FROM node:16-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY build/ ./build/
EXPOSE 3001
CMD ["npx", "serve", "-s", "build", "-l", "3001"]
```

### Nginxé…ç½®ç¤ºä¾‹
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://localhost:3001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    location /api {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Forké¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç æ›´æ”¹
4. åˆ›å»ºPull Request
5. ä»£ç å®¡æŸ¥å’Œåˆå¹¶

### ä»£ç è§„èŒƒ
- éµå¾ªReactæœ€ä½³å®è·µ
- ä½¿ç”¨å‡½æ•°ç»„ä»¶å’ŒHooks
- ä¿æŒç»„ä»¶çº¯å‡€
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š

### æ›´æ–°æ—¥å¿—
å…³æ³¨GitHub releasesè·å–æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯

---

**02agent Web** - ç°ä»£åŒ–çš„AI Agentå‰ç«¯è§£å†³æ–¹æ¡ˆ

*è®©AIäº¤äº’æ›´ç®€å•ã€æ›´ç¾è§‚ã€æ›´å¼ºå¤§ï¼*